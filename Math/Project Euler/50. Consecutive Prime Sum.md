---
url: https://projecteuler.net/problem=50
date: "2023-12-09 16:36:56"
---
---
The prime $41$, can be written as the sum of six consecutive primes:
$$41 = 2 + 3 + 5 + 7 + 11 + 13.$$
This is the longest sum of consecutive primes that adds to a prime below one-hundred.
The longest sum of consecutive primes below one-thousand that adds to a prime, contains $21$ terms, and is equal to $953$.
Which prime, below one-million, can be written as the sum of the most consecutive primes?

Answer: 997651

---
```cpp
#include <bits/stdc++.h>  
  
using namespace std;  
  
const int N = 1e6;  
  
bool st[N];  
int pm[N / 10], tot;  
int s[N / 10];  
  
void solve() {  
    for (int i = 2; i < N; i++) {  
        if (!st[i]) pm[tot++] = i;  
        for (int j = 0; pm[j] * i < N; j++) {  
            st[pm[j] * i] = true;  
            if (i % pm[j] == 0) break;  
        }  
    }  
    for (int i = 1; i <= tot; i++) {  
        s[i] = s[i - 1] + pm[i - 1];  
    }  
    int max_length = 1;  
    int res = 2;  
    for (int i = 1; i <= tot; i++) {  
        for (int j = i + max_length; j <= tot; j++) {  
            int sum = s[j] - s[i - 1];  
            if (sum >= N) break;  
            if (!st[s[j] - s[i - 1]]) {  
                max_length = j - i + 1;  
                res = s[j] - s[i - 1];  
            }  
        }  
    }  
    printf("%d", res);  
}  
  
int main() {  
    solve();  
    return 0;  
}
```
	